<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BYC Playbook Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        .test-result {
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
        }
        .pass {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .fail {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .loading {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
    </style>
</head>
<body>
    <h1>BYC Playbook Implementation Test</h1>
    
    <div id="test-results">
        <div class="test-result loading">Testing playbook implementation...</div>
    </div>

    <h2>Test Links:</h2>
    <ul>
        <li><a href="http://localhost:3000/#playbook" target="_blank">View Playbook Section</a></li>
        <li><a href="http://localhost:3000/playbook-data.json" target="_blank">View JSON Data</a></li>
        <li><a href="http://localhost:3000/" target="_blank">View Full Website</a></li>
    </ul>

    <script>
        const testResults = document.getElementById('test-results');
        
        async function runTests() {
            testResults.innerHTML = '';
            
            // Test 1: Check if JSON file is accessible
            await testJSONAccess();
            
            // Test 2: Check if website loads
            await testWebsiteLoad();
            
            // Test 3: Check if playbook section exists
            await testPlaybookSection();
        }
        
        async function testJSONAccess() {
            const result = document.createElement('div');
            result.className = 'test-result loading';
            result.textContent = 'Testing JSON file access...';
            testResults.appendChild(result);
            
            try {
                const response = await fetch('http://localhost:3000/playbook-data.json');
                if (response.ok) {
                    const data = await response.json();
                    result.className = 'test-result pass';
                    result.textContent = `✅ JSON file accessible. Found ${data.playbookArticles.length} articles.`;
                } else {
                    result.className = 'test-result fail';
                    result.textContent = `❌ JSON file not accessible. Status: ${response.status}`;
                }
            } catch (error) {
                result.className = 'test-result fail';
                result.textContent = `❌ Error accessing JSON: ${error.message}`;
            }
        }
        
        async function testWebsiteLoad() {
            const result = document.createElement('div');
            result.className = 'test-result loading';
            result.textContent = 'Testing website load...';
            testResults.appendChild(result);
            
            try {
                const response = await fetch('http://localhost:3000/');
                if (response.ok) {
                    const html = await response.text();
                    result.className = 'test-result pass';
                    result.textContent = '✅ Website loads successfully.';
                } else {
                    result.className = 'test-result fail';
                    result.textContent = `❌ Website load failed. Status: ${response.status}`;
                }
            } catch (error) {
                result.className = 'test-result fail';
                result.textContent = `❌ Error loading website: ${error.message}`;
            }
        }
        
        async function testPlaybookSection() {
            const result = document.createElement('div');
            result.className = 'test-result loading';
            result.textContent = 'Testing playbook section...';
            testResults.appendChild(result);
            
            try {
                const response = await fetch('http://localhost:3000/');
                const html = await response.text();
                
                if (html.includes('The BYC Playbook') && 
                    html.includes('playbook-data.json') &&
                    html.includes('Search for a question')) {
                    result.className = 'test-result pass';
                    result.textContent = '✅ Playbook section implemented with all required features.';
                } else {
                    result.className = 'test-result fail';
                    result.textContent = '❌ Playbook section missing required elements.';
                }
            } catch (error) {
                result.className = 'test-result fail';
                result.textContent = `❌ Error testing playbook section: ${error.message}`;
            }
        }
        
        // Run tests when page loads
        runTests();
    </script>
</body>
</html>