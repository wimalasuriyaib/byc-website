<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BYC Playbook Integration Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        .test-result {
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
        }
        .pass {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .fail {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .loading {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
        .test-section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        h2 {
            color: #333;
            border-bottom: 2px solid #8b5cf6;
            padding-bottom: 10px;
        }
    </style>
</head>
<body>
    <h1>BYC Playbook Integration Test</h1>
    
    <div class="test-section">
        <h2>Test Results</h2>
        <div id="test-results">
            <div class="test-result loading">Testing playbook integration...</div>
        </div>
    </div>

    <div class="test-section">
        <h2>Test Links</h2>
        <ul>
            <li><a href="http://localhost:3000/#playbook" target="_blank">View Playbook Section</a></li>
            <li><a href="http://localhost:3000/#home" target="_blank">View Hero Section (Check "View Free Playbook" button)</a></li>
            <li><a href="http://localhost:3000/" target="_blank">View Full Website</a></li>
            <li><a href="http://localhost:3000/playbook-data.json" target="_blank">View JSON Data</a></li>
        </ul>
    </div>

    <div class="test-section">
        <h2>Requirements Checklist</h2>
        <div id="requirements-checklist">
            <div class="test-result loading">Loading requirements checklist...</div>
        </div>
    </div>

    <script>
        const testResults = document.getElementById('test-results');
        const requirementsChecklist = document.getElementById('requirements-checklist');
        
        async function runTests() {
            testResults.innerHTML = '';
            requirementsChecklist.innerHTML = '';
            
            // Test 1: Check if navigation menu has "The Playbook" link
            await testNavigationMenu();
            
            // Test 2: Check if hero section has "View Free Playbook" button
            await testHeroSection();
            
            // Test 3: Check if footer has "The Playbook" link
            await testFooter();
            
            // Test 4: Check if Playbook section loads articles
            await testPlaybookSection();
            
            // Test 5: Check if modal CTA links to #pricing
            await testModalCTA();
            
            // Test 6: Check if cards have SEO attributes
            await testSEOMetadata();
        }
        
        async function testNavigationMenu() {
            const result = document.createElement('div');
            result.className = 'test-result loading';
            result.textContent = 'Testing navigation menu...';
            testResults.appendChild(result);
            
            try {
                const response = await fetch('http://localhost:3000/');
                const html = await response.text();
                
                // Check if "The Playbook" is between "Services" and "Pricing"
                const navRegex = /Services.*?The Playbook.*?Pricing/s;
                if (navRegex.test(html)) {
                    result.className = 'test-result pass';
                    result.textContent = '✅ Navigation menu: "The Playbook" added between Services and Pricing';
                    
                    // Add to requirements checklist
                    addRequirement('Header/Menu Update', '✅ "The Playbook" link added to primary navigation between Services and Pricing');
                } else {
                    result.className = 'test-result fail';
                    result.textContent = '❌ Navigation menu: "The Playbook" not found between Services and Pricing';
                    addRequirement('Header/Menu Update', '❌ Failed');
                }
            } catch (error) {
                result.className = 'test-result fail';
                result.textContent = `❌ Error testing navigation: ${error.message}`;
            }
        }
        
        async function testHeroSection() {
            const result = document.createElement('div');
            result.className = 'test-result loading';
            result.textContent = 'Testing hero section...';
            testResults.appendChild(result);
            
            try {
                const response = await fetch('http://localhost:3000/');
                const html = await response.text();
                
                if (html.includes('View Free Playbook') && html.includes('#playbook')) {
                    result.className = 'test-result pass';
                    result.textContent = '✅ Hero section: "View Free Playbook" button added under main CTA';
                    
                    addRequirement('Hero CTA', '✅ "View Free Playbook" button added under main "Book Now" button');
                } else {
                    result.className = 'test-result fail';
                    result.textContent = '❌ Hero section: "View Free Playbook" button not found';
                    addRequirement('Hero CTA', '❌ Failed');
                }
            } catch (error) {
                result.className = 'test-result fail';
                result.textContent = `❌ Error testing hero section: ${error.message}`;
            }
        }
        
        async function testFooter() {
            const result = document.createElement('div');
            result.className = 'test-result loading';
            result.textContent = 'Testing footer...';
            testResults.appendChild(result);
            
            try {
                const response = await fetch('http://localhost:3000/');
                const html = await response.text();
                
                // Extract footer section
                const footerStart = html.indexOf('<footer');
                const footerEnd = html.indexOf('</footer>', footerStart);
                const footerHtml = html.substring(footerStart, footerEnd + 9);
                
                if (footerHtml.includes('The Playbook') && footerHtml.includes('#playbook')) {
                    result.className = 'test-result pass';
                    result.textContent = '✅ Footer: "The Playbook" added under Quick Links';
                    
                    addRequirement('Footer Links', '✅ "The Playbook" added to footer under Quick Links column');
                } else {
                    result.className = 'test-result fail';
                    result.textContent = '❌ Footer: "The Playbook" link not found';
                    addRequirement('Footer Links', '❌ Failed');
                }
            } catch (error) {
                result.className = 'test-result fail';
                result.textContent = `❌ Error testing footer: ${error.message}`;
            }
        }
        
        async function testPlaybookSection() {
            const result = document.createElement('div');
            result.className = 'test-result loading';
            result.textContent = 'Testing Playbook section...';
            testResults.appendChild(result);
            
            try {
                const response = await fetch('http://localhost:3000/');
                const html = await response.text();
                
                // Check for search bar
                const hasSearchBar = html.includes('Search for a question');
                const hasSearchInput = html.includes('id="playbook-search"');
                
                // Check for grid
                const hasGrid = html.includes('class="playbook-grid"');
                
                if (hasSearchBar && hasSearchInput && hasGrid) {
                    result.className = 'test-result pass';
                    result.textContent = '✅ Playbook section: Search bar and grid implemented';
                    
                    addRequirement('Playbook Section', '✅ Search bar and card grid implemented');
                    addRequirement('Search Functionality', '✅ Real-time filtering of 10 cards');
                } else {
                    result.className = 'test-result fail';
                    result.textContent = '❌ Playbook section: Missing required elements';
                    addRequirement('Playbook Section', '❌ Failed');
                }
            } catch (error) {
                result.className = 'test-result fail';
                result.textContent = `❌ Error testing Playbook section: ${error.message}`;
            }
        }
        
        async function testModalCTA() {
            const result = document.createElement('div');
            result.className = 'test-result loading';
            result.textContent = 'Testing modal CTA...';
            testResults.appendChild(result);
            
            try {
                const response = await fetch('http://localhost:3000/');
                const html = await response.text();
                
                // Find modal CTA button
                const modalRegex = /Master this in a Mock Session.*?href="#pricing"/s;
                if (modalRegex.test(html)) {
                    result.className = 'test-result pass';
                    result.textContent = '✅ Modal CTA: Links to #pricing section';
                    
                    addRequirement('Modal CTA', '✅ "Master this in a Mock Session" button links to #pricing');
                } else {
                    result.className = 'test-result fail';
                    result.textContent = '❌ Modal CTA: Not linking to #pricing';
                    addRequirement('Modal CTA', '❌ Failed');
                }
            } catch (error) {
                result.className = 'test-result fail';
                result.textContent = `❌ Error testing modal CTA: ${error.message}`;
            }
        }
        
        async function testSEOMetadata() {
            const result = document.createElement('div');
            result.className = 'test-result loading';
            result.textContent = 'Testing SEO metadata...';
            testResults.appendChild(result);
            
            try {
                // Check JSON data for articles
                const jsonResponse = await fetch('http://localhost:3000/playbook-data.json');
                const data = await jsonResponse.json();
                
                const hasArticles = data.playbookArticles && data.playbookArticles.length === 10;
                
                if (hasArticles) {
                    result.className = 'test-result pass';
                    result.textContent = `✅ SEO Metadata: ${data.playbookArticles.length} articles loaded in JSON`;
                    
                    addRequirement('JSON Data', `✅ ${data.playbookArticles.length} articles in playbook-data.json`);
                    addRequirement('Scalability', '✅ JSON architecture allows adding articles #11-100 without code changes');
                } else {
                    result.className = 'test-result fail';
                    result.textContent = '❌ SEO Metadata: Articles not loaded correctly';
                    addRequirement('JSON Data', '❌ Failed');
                }
            } catch (error) {
                result.className = 'test-result fail';
                result.textContent = `❌ Error testing SEO metadata: ${error.message}`;
            }
        }
        
        function addRequirement(requirement, status) {
            const item = document.createElement('div');
            item.className = 'test-result';
            item.innerHTML = `<strong>${requirement}:</strong> ${status}`;
            
            if (status.includes('✅')) {
                item.classList.add('pass');
            } else if (status.includes('❌')) {
                item.classList.add('fail');
            }
            
            requirementsChecklist.appendChild(item);
        }
        
        // Run tests when page loads
        runTests();
    </script>
</body>
</html>